- id: config-git-updated
  alias: 'Config Git Repo Updated'
  initial_state: 'on'
  trigger:
    - platform: webhook
      webhook_id: "some_hook_id"
  action:
    - service: shell_command.git_pull_config
    - service: automation.reload
    - service: notify.persistent_notification
      title: Config Reloaded
      message: Configuration reloaded from git repository
    - service: logbook.log
      data_template:
        name: "Config Git Repo Updated: "
        message: "{{trigger.to_state.name}} changed from {{trigger.from_state.state}} to {{trigger.to_state.state}} by {{ trigger.to_state.attributes.source }}"
